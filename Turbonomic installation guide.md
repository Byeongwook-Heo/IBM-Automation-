# Turbonomic 설치 가이드 (IBM Turbonomic, Kubernetes/VM 공통 운영 관점)

> 문서 목적: IBM Turbonomic을 온프레미스/클라우드 환경에서 설치하고, 초기 연동(가상화·쿠버네티스·클라우드 계정) 및 운영 안정화까지 진행하기 위한 실무형 가이드입니다.  
> 작성 기준: IBM Turbonomic 공식 문서(설치, 요구사항, 통합, 보안, 업그레이드)를 기반으로 구성했습니다. 적용 전에는 반드시 사용 버전의 IBM 공식 문서 최신 내용을 우선 확인하세요.

---

## 1) 아키텍처 개요

- **Turbonomic Platform**
  - 분석 엔진(리소스 사용량/병목/비용 최적화)
  - UI/API
  - 액션 엔진(권고/자동화 실행)
- **주요 연동 대상(Targets)**
  - Kubernetes (IKS/ROKS 포함)
  - 가상화 플랫폼(vCenter 등)
  - 퍼블릭 클라우드 계정
  - 애플리케이션/미들웨어/스토리지(버전별 지원 범위 확인)
- **운영 모드**
  - Recommend(권고만)
  - Manual(승인 후 실행)
  - Automatic(정책 기반 자동 실행)

---

## 2) 사전 준비사항

### 2.1 필수 체크리스트

- [ ] Turbonomic 라이선스/구독 정보 확보
- [ ] 설치 방식 결정(OVA/어플라이언스, Kubernetes 배포 등)
- [ ] FQDN/DNS 및 TLS 인증서 계획 확정
- [ ] NTP 시간 동기화
- [ ] 백업/복구 정책 확정
- [ ] 운영 권한 계정(읽기/쓰기 범위) 정의
- [ ] 네트워크 방화벽 정책 합의

### 2.2 용량 및 시스템 요구사항

- Demo/POC와 Production을 분리해 산정
- Production은 대상 수(클러스터 수, 노드 수, VM 수, 오브젝트 수)에 따라 CPU/RAM/스토리지 증설 여유를 포함
- 정확한 최소/권장 스펙은 Turbonomic 버전별 공식 요구사항 문서로 최종 확정

### 2.3 보안/거버넌스

- 관리 계정 MFA/SSO 연동 계획(SAML/OIDC 등)
- 최소 권한 원칙 기반 대상 시스템 API 계정 발급
- 감사 로그 보존 및 접근 통제(RBAC) 정책 수립

---

## 3) 네트워크 및 포트 설계

- 사용자 브라우저 → Turbonomic UI/API HTTPS 접근 허용
- Turbonomic → 대상 시스템 API 통신 허용(Kubernetes API, vCenter API, 클라우드 API 등)
- DNS/FQDN 해석 일관성 확보(사설 DNS 사용 시 전 구간 검증)
- 프록시 환경에서는 공식 프록시 구성 가이드에 맞춰 outbound 통신 구성

> 포트 번호와 방향성은 설치 버전/배포 방식마다 다를 수 있으므로 반드시 IBM 공식 포트/네트워크 요구사항 표를 우선 적용하세요.

---

## 4) 설치 방식 선택

Turbonomic은 버전과 환경에 따라 설치 방식이 다를 수 있습니다.

1. **가상 어플라이언스(예: OVA) 방식**
   - vSphere 기반 환경에서 빠르게 도입 가능
2. **Kubernetes/컨테이너 기반 배포**
   - 플랫폼 표준화 및 운영 자동화에 유리
3. **기타 공식 제공 배포 방식**
   - 해당 버전 문서의 배포 가이드를 우선 준수

운영 환경에서는 아래를 공통 적용하세요.

- 고가용성(HA) 필요 시 공식 토폴로지 준수
- 데이터 보존 기간 및 백업 주기 설정
- 인증서/TLS 강제 적용

---

## 5) 설치 절차 (공통 흐름)

> 이 섹션은 “순서” 중심 요약입니다. 실제 명령/매니페스트/설치 패키지는 IBM 공식 문서의 해당 설치 방식 문구를 그대로 따르세요.

1. 설치 인프라 준비
   - VM/클러스터 자원 준비
   - 스토리지/네트워크 확인
2. 설치 자산 준비
   - 설치 이미지/패키지
   - 라이선스
   - TLS 인증서/키
3. Turbonomic 배포 실행
   - 공식 설치 가이드에 따라 설치 수행
4. 초기 관리자 설정
   - 관리자 비밀번호/접근 제어 구성
5. 플랫폼 상태 점검
   - UI 접속
   - 핵심 서비스 Health 확인

---

## 6) 초기 연동(대상 시스템 등록)

설치 직후에는 “대상 시스템(Target)” 등록이 핵심입니다.

### 6.1 Kubernetes(예: IKS/ROKS) 연동

- 클러스터 API 접근 정보 준비
- 서비스 계정/토큰/권한(Role/ClusterRole) 구성
- 네임스페이스/노드/워크로드 수집 상태 확인

검증 포인트:

- 노드/파드 리소스 사용량 수집 여부
- Pending/Throttle/Overprovision 워크로드 식별 여부
- 권고(Action) 생성 여부

### 6.2 가상화(vCenter 등) 연동

- 읽기/쓰기 범위가 분리된 계정 전략 권장
- 클러스터/호스트/VM 객체 동기화 확인
- Resize/Move 권고가 정책에 맞는지 점검

### 6.3 클라우드 계정 연동

- 계정/구독 단위 API 권한 검토
- 비용/성능 관점 권고 노출 확인
- 리전/서비스별 수집 편차 점검

---

## 7) 정책(Policy) 및 자동화 단계 적용

초기에는 아래 순서를 권장합니다.

1. **관찰 단계(1~2주)**
   - Recommend 모드로 데이터 품질 검증
2. **승인 실행 단계**
   - Manual 모드로 대표 워크로드에 제한 적용
3. **부분 자동화 단계**
   - 비즈니스 영향이 낮은 리소스부터 Automatic 적용
4. **확대 적용 단계**
   - 팀/서비스 단위 정책 템플릿 표준화

정책 예시:

- 업무시간 중 스케일다운 제한
- 프로덕션 네임스페이스는 수동 승인 필수
- 특정 애플리케이션은 vCPU/메모리 변경 상한 설정

---

## 8) 설치 후 검증 체크리스트

- [ ] Turbonomic UI 로그인 가능
- [ ] 라이선스 상태 정상
- [ ] 등록된 Target 연결 상태 정상
- [ ] 권고(Action)가 실제 데이터 기반으로 생성됨
- [ ] 불필요한 과다 권고(노이즈) 없이 정책 반영됨
- [ ] 감사 로그 및 사용자 RBAC 정상 동작

운영 점검 항목:

- 일/주간 권고 수, 적용률, 절감 추정치 추이
- 미적용 권고 사유(정책/권한/운영 프로세스)
- 대상 시스템 API 제한(rate limit) 발생 여부

---

## 9) 업그레이드/백업/복구 권장사항

- 업그레이드 전:
  - 릴리스 노트에서 **Breaking Change** 확인
  - 스테이징 환경 사전 검증
  - 백업 스냅샷/복구 리허설 수행
- 업그레이드 중:
  - 점검 창구(모니터링/로그) 단일화
  - 실패 시 롤백 절차 즉시 수행 가능 상태 유지
- 업그레이드 후:
  - Target 재연결 상태
  - 정책/자동화 모드 유지 여부
  - API 연동/대시보드 이상 유무 확인

---

## 10) 트러블슈팅 가이드

1. **UI 접속 불가**
   - DNS/FQDN 해석 문제
   - TLS 인증서 체인 누락
   - 방화벽/보안그룹 정책 미허용
2. **Target 연결 실패**
   - 계정 권한 부족
   - API Endpoint 오기입
   - 프록시/네트워크 차단
3. **권고가 생성되지 않음**
   - 수집 데이터 축적 시간 부족
   - 대상 등록 범위 과소
   - 정책에서 액션이 과도하게 제한됨
4. **자동화 실행 불가**
   - 대상 시스템 쓰기 권한 미부여
   - 변경 승인 프로세스와 충돌
   - 유지보수 윈도우 정책 충돌

---

## 11) 운영 모범사례

- 태그/라벨 표준(`team`, `service`, `env`, `cost-center`) 선적용
- 권고 승인 워크플로우를 ITSM(Change)와 연동
- 분기별 정책 정합성 리뷰(실제 운영 패턴 반영)
- FinOps/Platform/SRE 공동 KPI 운영
  - 리소스 절감률
  - 성능 SLO 준수율
  - 자동화 적용률

---

## 12) 공식 문서 확인 포인트 (적용 전 필수)

- Turbonomic 설치/요구사항 문서
- Target 통합 가이드(Kubernetes, vCenter, Cloud)
- 인증/보안(SSO, RBAC, TLS) 문서
- 업그레이드 및 백업/복구 문서
- 버전별 Release Notes

> 본 가이드는 “실행 순서와 운영 체크포인트” 중심 요약본입니다. 실제 운영 반영 시에는 반드시 IBM 공식 문서의 버전별 명령, 지원 매트릭스, 포트/권한 표를 최종 기준으로 적용하세요.
